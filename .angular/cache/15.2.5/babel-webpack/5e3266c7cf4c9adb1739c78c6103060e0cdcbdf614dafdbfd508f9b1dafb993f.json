{"ast":null,"code":"import _asyncToGenerator from \"/Users/phanuwitkittirong/Documents/project/movie-market-place/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nlet ContentComponent = class ContentComponent {\n  constructor(http) {\n    this.http = http;\n    this.basePath = this.http.imgBasePath;\n    this.movie = [];\n    this.addProduct = [];\n    this.price = 0;\n  }\n  ngOnInit() {\n    this.shearchMovie('a');\n  }\n  shearchMovie(key) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (key == '') {\n        key = 'a';\n      }\n      console.log(key);\n      let httpRespon = yield _this.http.get(key == '' ? 'a' : key);\n      if (httpRespon.connect) {\n        _this.movie = yield httpRespon.response.results;\n      } else {}\n      console.log(httpRespon.response.results);\n    })();\n  }\n  showProduct(value) {\n    console.log(value);\n    // this.price.setValue(0)\n    this.addProduct = value;\n  }\n  getValue() {\n    return JSON.parse(window.localStorage.getItem('market') || '');\n  }\n  productAddStore(item) {\n    let old = this.getValue();\n    this.addProduct.price = item;\n    // console.log(this.addProduct)\n    if (old !== null) {\n      var valueArr = old.map(function (item) {\n        return item.id;\n      });\n      if (valueArr.indexOf(this.addProduct.id) == -1) {\n        window.localStorage.setItem('market', JSON.stringify([...old, this.addProduct]));\n        Swal.fire('', 'เพิ่มสินค้าสำเร็จ', 'success');\n      } else {\n        Swal.fire('', 'มีสิ้นค้าชิ้นนี้ในร้านแล้ว', 'error');\n      }\n    } else {\n      window.localStorage.setItem('market', JSON.stringify([this.addProduct]));\n      Swal.fire('', 'เพิ่มสินค้าสำเร็จ', 'success');\n    }\n    this.price = 0;\n  }\n};\nContentComponent = __decorate([Component({\n  selector: 'app-content',\n  templateUrl: './content.component.html',\n  styleUrls: ['./content.component.scss']\n})], ContentComponent);\nexport { ContentComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,OAAOC,IAAI,MAAM,aAAa;AAMvB,IAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAM3BC,YAAoBC,IAAiB;IAAjB,SAAI,GAAJA,IAAI;IALjB,aAAQ,GAAG,IAAI,CAACA,IAAI,CAACC,WAAW;IAChC,UAAK,GAAG,EAAE;IACV,eAAU,GAAQ,EAAE;IACpB,UAAK,GAAG,CAAC;EAEwB;EAExCC,QAAQ;IACN,IAAI,CAACC,YAAY,CAAC,GAAG,CAAC;EACxB;EAEMA,YAAY,CAACC,GAAW;IAAA;IAAA;MAC5B,IAAIA,GAAG,IAAI,EAAE,EAAE;QACbA,GAAG,GAAG,GAAG;;MAEXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAIG,UAAU,SAAc,KAAI,CAACP,IAAI,CAACQ,GAAG,CAACJ,GAAG,IAAI,EAAE,GAAG,GAAG,GAAGA,GAAG,CAAC;MAChE,IAAIG,UAAU,CAACE,OAAO,EAAE;QACtB,KAAI,CAACC,KAAK,SAASH,UAAU,CAACI,QAAQ,CAACC,OAAO;OAC/C,MAAM;MAEPP,OAAO,CAACC,GAAG,CAACC,UAAU,CAACI,QAAQ,CAACC,OAAO,CAAC;IAAA;EAC1C;EACAC,WAAW,CAACC,KAAa;IACvBT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;IAClB;IACA,IAAI,CAACC,UAAU,GAAGD,KAAK;EACzB;EACAE,QAAQ;IACN,OAAOC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;EAChE;EACAC,eAAe,CAACC,IAAY;IAC1B,IAAIC,GAAG,GAAG,IAAI,CAACR,QAAQ,EAAE;IACzB,IAAI,CAACD,UAAU,CAACU,KAAK,GAAGF,IAAI;IAC5B;IACA,IAAIC,GAAG,KAAK,IAAI,EAAE;MAChB,IAAIE,QAAQ,GAAGF,GAAG,CAACG,GAAG,CAAC,UAAUJ,IAAS;QACxC,OAAOA,IAAI,CAACK,EAAE;MAChB,CAAC,CAAC;MACF,IAAIF,QAAQ,CAACG,OAAO,CAAC,IAAI,CAACd,UAAU,CAACa,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE;QAC9CT,MAAM,CAACC,YAAY,CAACU,OAAO,CACzB,QAAQ,EACRb,IAAI,CAACc,SAAS,CAAC,CAAC,GAAGP,GAAG,EAAE,IAAI,CAACT,UAAU,CAAC,CAAC,CAC1C;QACDlB,IAAI,CAACmC,IAAI,CAAC,EAAE,EAAE,mBAAmB,EAAE,SAAS,CAAC;OAC9C,MAAM;QACLnC,IAAI,CAACmC,IAAI,CAAC,EAAE,EAAE,4BAA4B,EAAE,OAAO,CAAC;;KAEvD,MAAM;MACLb,MAAM,CAACC,YAAY,CAACU,OAAO,CAAC,QAAQ,EAAEb,IAAI,CAACc,SAAS,CAAC,CAAC,IAAI,CAAChB,UAAU,CAAC,CAAC,CAAC;MACxElB,IAAI,CAACmC,IAAI,CAAC,EAAE,EAAE,mBAAmB,EAAE,SAAS,CAAC;;IAE/C,IAAI,CAACP,KAAK,GAAG,CAAC;EAChB;CACD;AAvDY3B,gBAAgB,eAL5BF,SAAS,CAAC;EACTqC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,GACWrC,gBAAgB,CAuD5B;SAvDYA,gBAAgB","names":["Component","Swal","ContentComponent","constructor","http","imgBasePath","ngOnInit","shearchMovie","key","console","log","httpRespon","get","connect","movie","response","results","showProduct","value","addProduct","getValue","JSON","parse","window","localStorage","getItem","productAddStore","item","old","price","valueArr","map","id","indexOf","setItem","stringify","fire","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/phanuwitkittirong/Documents/project/movie-market-place/src/app/pages/trending/content.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core'\nimport { HttpService } from 'src/services/http.service'\nimport Swal from 'sweetalert2'\n@Component({\n  selector: 'app-content',\n  templateUrl: './content.component.html',\n  styleUrls: ['./content.component.scss'],\n})\nexport class ContentComponent implements OnInit {\n  public basePath = this.http.imgBasePath\n  public movie = []\n  public addProduct: any = []\n  public price = 0\n\n  constructor(private http: HttpService) {}\n\n  ngOnInit(): void {\n    this.shearchMovie('a')\n  }\n\n  async shearchMovie(key: string) {\n    if (key == '') {\n      key = 'a'\n    }\n    console.log(key)\n    let httpRespon: any = await this.http.get(key == '' ? 'a' : key)\n    if (httpRespon.connect) {\n      this.movie = await httpRespon.response.results\n    } else {\n    }\n    console.log(httpRespon.response.results)\n  }\n  showProduct(value: string) {\n    console.log(value)\n    // this.price.setValue(0)\n    this.addProduct = value\n  }\n  getValue() {\n    return JSON.parse(window.localStorage.getItem('market') || '')\n  }\n  productAddStore(item: string) {\n    let old = this.getValue()\n    this.addProduct.price = item\n    // console.log(this.addProduct)\n    if (old !== null) {\n      var valueArr = old.map(function (item: any) {\n        return item.id\n      })\n      if (valueArr.indexOf(this.addProduct.id) == -1) {\n        window.localStorage.setItem(\n          'market',\n          JSON.stringify([...old, this.addProduct])\n        )\n        Swal.fire('', 'เพิ่มสินค้าสำเร็จ', 'success')\n      } else {\n        Swal.fire('', 'มีสิ้นค้าชิ้นนี้ในร้านแล้ว', 'error')\n      }\n    } else {\n      window.localStorage.setItem('market', JSON.stringify([this.addProduct]))\n      Swal.fire('', 'เพิ่มสินค้าสำเร็จ', 'success')\n    }\n    this.price = 0\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}